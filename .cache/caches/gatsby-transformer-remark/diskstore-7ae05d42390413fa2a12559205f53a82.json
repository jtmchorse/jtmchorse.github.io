{"expireTime":9007200829691481000,"key":"transformer-remark-markdown-html-f3827fbed5cbce0f8756d5ca6ad0fb90-gatsby-remark-images-","val":"<p>Yesterday we were able to install a few gatsby plugins to work with Contentfuls api. 'gatsby-source-contentful' </p>\n<p>Once we had that pluged in, and talking though <code>dotenv</code> <a href=\"https://www.npmjs.com/package/dotenv\">npm dotenv</a> to Contentful, we have new top level query stuff in GrapiQL.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 578px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c2a82e57a49967635094d5166586e25/e79ec/2019-11-27-contentful-graphiql.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.7923875432526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAABsklEQVQ4y6WU646bMBCFef9HW/XHqtqqaUkiFSjGXG3M3ZjTGe8SpaoqJazFkWxsf5wZ7Ak2ACxuQkicL1f0w+jHzjkMw4C6rvH6+hUvL19wOv1Emgq8vX2DlBJhGCKOEyRxjPB8RrAOHZwxcKqDnWdM4wi3rvSVjZ4NI43TNEWe5yirCkopaK1RVTUM7Wvb9iZ+HzRFAZGWiK4ZZN0j1yOG2WKxzrtkYBRFmJcFj7QgrzUussX33wph2uBHUiMpDbpxuQFjCmeaJp+C7cP5/xSo1iAqDAo1YFpWD+GJvXlgkmCmdOzv7+f/cVhrg4tQOKcKMYE53PtNTwPzSuGUNARskJNLQ6Hu9g8BC8rhr7zFKa6RVt1t4jBQm96HGhGUXcqmRzvMx4GVMrhm2gMzgjGQf85hoCwbOi7aw1a3fT7kks+hoDxK7d3Z1X0OqNrOn8Omm/5afBjIhUCq3v/hxa6+VPCNYHHj4vAUcKVCsNBiu8z+erGje2Df90ieAbKDvYKwuG+t9WJoSxUlorv8MDDLMl/Xsg9xXwjxrkz40lWW5ePAPbx77Vdv78/zeyoeAf4BtpR6+Ifnle0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"contentful in GraphiQL\"\n        title=\"contentful in GraphiQL\"\n        src=\"/static/6c2a82e57a49967635094d5166586e25/e79ec/2019-11-27-contentful-graphiql.png\"\n        srcset=\"/static/6c2a82e57a49967635094d5166586e25/19bd1/2019-11-27-contentful-graphiql.png 163w,\n/static/6c2a82e57a49967635094d5166586e25/d3bcb/2019-11-27-contentful-graphiql.png 325w,\n/static/6c2a82e57a49967635094d5166586e25/e79ec/2019-11-27-contentful-graphiql.png 578w\"\n        sizes=\"(max-width: 578px) 100vw, 578px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>From there I'm sure you can hazzard a guess as to how we'll query that info and drop it into a new page.</p>\n<p>Hint hint, its on <a href=\"/day17/\">Day17</a>. I'm sorry, the images are broken. Lets cover it again, since anything worth doing is worth doing a bunch so we internalize it.</p>\n<h4>Step 1 - make a GraphiQL query.</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a52bc225a1844845a7b4865a43d17575/d418b/2019-11-27-contentful-graphiql-product-query.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.12058212058211%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACf0lEQVQ4y42U607bQBCF/aYVFAilSEDS9k+lvmdLRew4iR3f1t6b7fhyOrOJIdBWwtLR+qJ8e2bObLzb+++4+vwV51cPuJjNcb/4gdnNF1xcz3F9+82trKtPC1ySLmYPOLu8x/xujtubO3z4eIez2QLn9NvL6wW8seswtC3yLENH933fI6P7n78esQ5D7OLYKT4qiiJsnWKE4RpJkiDPc2y2MWkHL0tzhEGKRFiYtnfA1WqFpmlgmg7K7mndo+sH8NW0DWReQZYKytSQ2kIbC1s3Tp4QBrvEQOgazb53Ln3fR13XiAqDrDIYxxHDcATSRlWl8BimCHcCqVAOamzt5OmqhhINpouBQRCgJSf7bsA6VahMi4GgE9DQZhVBoqyCIqdaGffOOWTbO3J5CmSHB2CPQtXoyd34DGyhKw0tDfyoQBCXKLISKi1gqEoPGBEXCptckwu4Hi6XSxhjnKsJNK0tBcgwRYoLiSInh9QWS8YMyRvHAZtEOGDXjw7oB74rbQKNJ2B+r62lvhnXu5oDIZCljSx988DAtISkNKeSOWVeT52dAg1BFMGetgUiCqakYHRaQZf66JCAQjevgPv9/p8OW+4hBWFsg3VSUtIVikLDUNuMsuxwpA/iL4f/BXIPnUODktOV1oXhSuaUuWebTKLU7buArmSat4pgOwpFcuIkQxs4IA9mmMpXY3Paw7fXIWWCUBDcQ38rkFEfdVkdQuHhXMb00HYvc0iDLYRwZ5SltT6IRklK6XqoKRR2mGYKgmQoEA7LW1MgTwTU9UsPg1Xgjh63g5/52A3H4Z7GhnvIpVsWgRjmjl6cS/ze0qTb9l0lN1RyJdXzn4E5anr+A7VdtOCUDnheAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Contentful GraphiQL query\"\n        title=\"Contentful GraphiQL query\"\n        src=\"/static/a52bc225a1844845a7b4865a43d17575/dbb61/2019-11-27-contentful-graphiql-product-query.png\"\n        srcset=\"/static/a52bc225a1844845a7b4865a43d17575/19bd1/2019-11-27-contentful-graphiql-product-query.png 163w,\n/static/a52bc225a1844845a7b4865a43d17575/d3bcb/2019-11-27-contentful-graphiql-product-query.png 325w,\n/static/a52bc225a1844845a7b4865a43d17575/dbb61/2019-11-27-contentful-graphiql-product-query.png 650w,\n/static/a52bc225a1844845a7b4865a43d17575/d418b/2019-11-27-contentful-graphiql-product-query.png 962w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>Step 2 - get fancy with the slug.</h4>\n<p>We'll be using a different query than the <code>allContentfulProduct</code> one used just able. Don't fret I'll cover the reasoning behind this in a few. Lol, look at me pretending I know whats happening.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/167ea3b49736f108a310c3d890986b81/856a4/2019-11-27-contentful-product-slug.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.53556485355649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABJklEQVQoz6WRx07DQBCG/f4HlL6kGHHgvbhEQjgucby9/Yw3BdlEvrDSJ492NZ+nZBv2BrZ9xy7/wMuMYbHaYb7c0XePOcWz5RbL9QErlj9YU07PapMnFvT+yg5gbI/MBaQTo4cxBh63i4njrIfz8elbdmoFySKKokDVtDg1ElpYWGXgtIW3Dt4HwsOHkH56/K7xeSxx/qrRVi0uLUfXCXRckPAsk7mqKkh5jUOIiHfiL/2x1uJCiZ1QECQRXEL0sbyS8cY8hFrra/sYtjMUupQolf5DEjodHkKl1EAwZiy8V3Wnv8sMzWlc4eRC3FA4rjLztLEkrGtwzml7LiWlJTxBazMt5N1thmWJpqkhaeD9Jp9hrUljmRR2je63gPJUQmn175Z/ABoL+He9ONuKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Contentful product slug query\"\n        title=\"Contentful product slug query\"\n        src=\"/static/167ea3b49736f108a310c3d890986b81/dbb61/2019-11-27-contentful-product-slug.png\"\n        srcset=\"/static/167ea3b49736f108a310c3d890986b81/19bd1/2019-11-27-contentful-product-slug.png 163w,\n/static/167ea3b49736f108a310c3d890986b81/d3bcb/2019-11-27-contentful-product-slug.png 325w,\n/static/167ea3b49736f108a310c3d890986b81/dbb61/2019-11-27-contentful-product-slug.png 650w,\n/static/167ea3b49736f108a310c3d890986b81/6b691/2019-11-27-contentful-product-slug.png 975w,\n/static/167ea3b49736f108a310c3d890986b81/91670/2019-11-27-contentful-product-slug.png 1300w,\n/static/167ea3b49736f108a310c3d890986b81/856a4/2019-11-27-contentful-product-slug.png 1673w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Here is a close up.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 461px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/24b97c1d4930516a55566e49f07fcb3e/f4334/2019-11-28-contentful-product-slug-query.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.791757049891544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA7ElEQVQoz62R62rDMAyF8/7PuK1bYU2be2xHtmwpZ3LyZ4zCGExwLCGbTxc31H7C3x+Y3IT37oph6RFcDz9/wI0TaEsouUCyIBVC4ggRgaqi2r7v+G7NbhftFPDWLhhcxOgIj5kwewJNCdExtjUi+oSZeivYISU+oE+B9fDEuNxXcFH8xSrspw7gaB3UDq+dO9Rbp3b9HPJLkQPoNsbrbcaLQS+m9ubgRxt3yYhrRk4FZQjIJqUMtfdiK9CUT285oXMNTT0SZxtXEGK2uEBZwaEgkxy+sJyQUCEFu31Q9Wp5sfwZm9RGZmb8p30BxqkkY23OhOIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Contentful slug query, close up\"\n        title=\"Contentful slug query, close up\"\n        src=\"/static/24b97c1d4930516a55566e49f07fcb3e/f4334/2019-11-28-contentful-product-slug-query.png\"\n        srcset=\"/static/24b97c1d4930516a55566e49f07fcb3e/19bd1/2019-11-28-contentful-product-slug-query.png 163w,\n/static/24b97c1d4930516a55566e49f07fcb3e/d3bcb/2019-11-28-contentful-product-slug-query.png 325w,\n/static/24b97c1d4930516a55566e49f07fcb3e/f4334/2019-11-28-contentful-product-slug-query.png 461w\"\n        sizes=\"(max-width: 461px) 100vw, 461px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>First thing to notice about the query is our use of the slug variable. We are using the <code>contentfulProduct</code> query, which returns a singular product. That in turn gets chosen by the slug variable. We'll be taking advantage of that later on.</p>\n<p>Now that we have our query built up, and our slug variable lets head over to our Gatsby repo and start breaking things.</p>\n<h4>Step 3 - Gatsby-node.js</h4>\n<p>We are going to be following the same series of tasks that we used to create pages for each blog post. If you did that before, find the createPages function, otherwise lets make said function.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 611px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/411ceb92fd385282b51de0246e546544/f21ab/2019-11-28-gatsby-node-js.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.17675941080196%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQ4y52T63KCMBCF+yyt3JNAJBAgQACtjvby/m9zusHqWMdOpT92MgnZj3N2N09JYpAkDZi0iLIOfqqxyis8qwphVEIGDURYI000FH2TvKLQWAuNlBuIuEEcaYRBgSgs8cSSFg7qgL08QqsN1LiDOX5i6t9h5Q66ecW0f4MpO2RMz0BJQMHoZ3F9A2QdktjQYYGOjdDMwhBArwcYPiEXPby2Q2wGulPB9xUCSg78Yl7D73Awt84K46iGlDXs1qJuW+jKQNcGnCw6QLRSCFf5JfFeXBRy1sNBo6DEOI3YHzZIU2ejRHy+fCfxtzjVkArrNoFfotQthmmguuofVv4CXYCcasioKW7DWQUhqtl+tEDVXYXOoqCRcMX2qGa+dyr8UpXUZWoKM5DZqTFnhS4yOmNX1h9TmNFAqx4p2T18bLHdTVCqQVEa5LRyUr0ImAjqsOoQkkUhanTWzhDvheaNzkJ/oWWe0cAWFjGNjRsXZ9PZvk5eZlnQS8kHcKoVo2fl36h6FHQF7MFzSw/9/6qu4wskxrONkhxPBwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby-node.js createPages\"\n        title=\"Gatsby-node.js createPages\"\n        src=\"/static/411ceb92fd385282b51de0246e546544/f21ab/2019-11-28-gatsby-node-js.png\"\n        srcset=\"/static/411ceb92fd385282b51de0246e546544/19bd1/2019-11-28-gatsby-node-js.png 163w,\n/static/411ceb92fd385282b51de0246e546544/d3bcb/2019-11-28-gatsby-node-js.png 325w,\n/static/411ceb92fd385282b51de0246e546544/f21ab/2019-11-28-gatsby-node-js.png 611w\"\n        sizes=\"(max-width: 611px) 100vw, 611px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>I copied the <code>allMakrdownRemark</code> query and changed it to <code>allContentfulProduct</code> and removed the <code>fields</code> bit. Keep in mind this is not the same query we just made, we will be using that one in a new file. Now that we have the new query in we need to make a <code>forEach</code> loop to build out a page for each product. However we need to do two more things before we can move forward.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 589px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/95c676207e952dfd979300b81f3fd825/d3218/2019-11-28-gatsby-node-foreach.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.61460101867572%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQoz42Q227DIBBE8ytV1RpwkvqKgRhDHJLm0jz2/z9lusZx5FZq04cRIHbPzuyC5QYpa+CyA3z5jq47wbgj8tJBNwHeXUhneHuIcvTv2hNse4S1RzRyF+9a7ZG8VliwchOBWga0/QXrPuDpvMUyBJSFp4aAmuBN3kAVCnlmUSwt1isDwZuoVKgoltQjUDAZH8+8Qun3MOGCWnl01sF6Dyt79O0Vnf+ArHsYvUeWbpAkVeybxIkzAhMJQRM4nare4Xr+xJaiVuTMGBqgArohIqnIu9EZpWJshEyKDnnZjkA+FEiKsoEmBxFIkY0+UHSKTC6HWMOe5o7m9+gwLboI5DfYaqljgRDjbob3dMahs+b5/Q4cIq+ERvbW3prkt7381G+gO1BUNgKn6X8VP4LdHbKX6mGU/+oLDw0dhxvRAssAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Gatsby-node foreach loop\"\n        title=\"Gatsby-node foreach loop\"\n        src=\"/static/95c676207e952dfd979300b81f3fd825/d3218/2019-11-28-gatsby-node-foreach.png\"\n        srcset=\"/static/95c676207e952dfd979300b81f3fd825/19bd1/2019-11-28-gatsby-node-foreach.png 163w,\n/static/95c676207e952dfd979300b81f3fd825/d3bcb/2019-11-28-gatsby-node-foreach.png 325w,\n/static/95c676207e952dfd979300b81f3fd825/d3218/2019-11-28-gatsby-node-foreach.png 589w\"\n        sizes=\"(max-width: 589px) 100vw, 589px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>"}